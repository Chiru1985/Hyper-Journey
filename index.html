<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>The Journey of Change - WebXR Experience</title>
  <meta name="description" content="An immersive WebXR journey through personal growth and transformation">
  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="loading-screen" class="loading-screen">
    <div class="loading-spinner"></div>
    <div>Loading Experience...</div>
  </div>

  <a-scene 
    raycaster="objects: .clickable" 
    cursor="rayOrigin: mouse" 
    vr-mode-ui="enabled: true" 
    embedded 
    loading-screen="enabled: false" 
    timeout="10000"
  >
    <a-assets timeout="10000">
      <!-- Textures -->
      <img id="mudroad-texture" src="assets/RoadNew.jpg">
      <img id="road-lines-texture" src="assets/Dashedlines.png">
      
      <!-- Models -->
      <a-asset-item id="character-model" src="assets/Hi.glb"></a-asset-item>
      <a-asset-item id="grocery-model" src="assets/Grocery.glb"></a-asset-item>

      <!-- Icons -->
      <img id="flag-img" src="assets/Svenska.jpg">
      <img id="store-icon" src="assets/Store.png">
      <img id="change-icon" src="assets/Careerpath.png">
      <img id="hilearner-icon" src="assets/HiLogo.png">
      <img id="leader-icon" src="assets/Star.png">
      <img id="frontend-icon" src="assets/html.png">
      <img id="agile-icon" src="assets/agile.png">
      <img id="react-icon" src="assets/react.png">
      <img id="figma-icon" src="assets/figma.png">
      <img id="backend-icon" src="assets/backend.png">
      <img id="client-icon" src="assets/client.png">
      <img id="webxr-icon" src="assets/newwebxr.png">

      <!-- ✅ Background music -->
      <audio id="bg-music" src="assets/BGM.mp3" preload="auto" muted></audio>
    </a-assets>

    <!-- ✅ Background music entity -->
    <a-entity sound="src: #bg-music; autoplay: true; loop: true; volume: 0.4"></a-entity>

    <!-- Sky and Lights -->
    <a-sky src="assets/Beach4.png" rotation="0 -90 0"></a-sky>
    <a-entity id="clouds-container"></a-entity>
    <a-light type="ambient" color="#ffffff" intensity="0.8"></a-light>
    <a-light type="directional" position="10 20 5" color="#fff3cd" intensity="1.2"></a-light>
    <a-light type="point" position="0 15 0" color="#ffffff" intensity="0.6"></a-light>

    <!-- Road -->
    <a-plane id="road" position="0 -1 0" rotation="-90 0 0" width="8" height="1000" material="src: #mudroad-texture; repeat: 1 250"></a-plane>
    <a-plane id="road-dashed-line" position="0 -0.94 -95" rotation="-90 0 0" width="0.2" height="190" material="src: #road-lines-texture; repeat: 1 40; transparent: true"></a-plane>

    <!-- Camera Rig with Backpack & Character -->
    <a-entity id="cameraRig" position="0 1.6 -5">
      <a-camera id="player-camera" position="0 1.6 0" look-controls="pointerLockEnabled: false" wasd-controls="enabled: true">
        <a-entity id="backpack" position="0.3 -0.5 -0.8" scale="0.5" visible="false"></a-entity>
      </a-camera>
      <a-entity id="animated-character" gltf-model="#character-model" position="0 0 -3.5" scale="1.3 1.3 1.3" rotation="0 180 0" animation-mixer></a-entity>
    </a-entity>

    <!-- Milestones & Modules -->
    <!-- 1: Arrival in Stockholm -->
    <a-entity id="milestone-1" position="0 0 -20" visible="false">
      <a-text value="2019 – Arrival in Stockholm" position="0 1.5 0" align="center" color="#ffffff" geometry="primitive: plane" material="opacity: 0"></a-text>
      <a-image id="milestone-1-icon" src="#flag-img" position="3.5 2 0" width="2" height="1.2" class="clickable">
        <a-entity id="milestone-1-panel" visible="false" position="0 2.2 0" look-at="#player-camera">
          <a-plane width="5.2" height="2.2" color="#111" opacity="0.95" radius="0.15"></a-plane>
          <a-text value="A first step in Sweden with dreams from India." align="center" wrap-count="32" color="#ffffff" width="4.5" scale="1.2" anchor="center" baseline="center" font="https://cdn.aframe.io/fonts/mozillavr.fnt"></a-text>
        </a-entity>
      </a-image>
    </a-entity>

    <!-- 2: Grocery Store -->
    <a-entity id="milestone-2" position="0 0 -25" visible="false">
      <a-entity gltf-model="#grocery-model" position="-4 1 -7" scale="2 2 2"></a-entity>
      <a-image id="milestone-2-icon" src="#store-icon" position="3.5 2 -5" width="2" height="1.2" class="clickable">
        <a-entity id="milestone-2-panel" visible="false" position="0 2.2 0" look-at="#player-camera">
          <a-plane width="5.5" height="2.5" color="#111" opacity="0.95" radius="0.15"></a-plane>
          <a-text value="Built a community hub—learned business, service, resilience." align="center" wrap-count="36" color="#ffffff" width="4.5" scale="1.3" anchor="center" baseline="center" font="https://cdn.aframe.io/fonts/mozillavr.fnt"></a-text>
        </a-entity>
      </a-image>
    </a-entity>

    <!-- 3: Career Shift -->
    <a-entity id="milestone-3" position="0 0 -40" visible="false">
      <a-image id="milestone-3-icon" src="#change-icon" position="3.5 2 -5" width="2" height="1.2" class="clickable">
        <a-entity id="milestone-3-panel" visible="false" position="0 2.2 0" look-at="#player-camera">
          <a-plane width="5.5" height="2.5" color="#111" opacity="0.95" radius="0.15"></a-plane>
          <a-text value="Switched paths to pursue tech and design." align="center" wrap-count="36" color="#ffffff" width="4.5" scale="1.3" anchor="center" baseline="center" font="https://cdn.aframe.io/fonts/mozillavr.fnt"></a-text>
        </a-entity>
      </a-image>
    </a-entity>

    <!-- 4: Hyper Island -->
    <a-entity id="milestone-4" position="0 0 -55" visible="false">
      <a-image id="milestone-4-icon" src="#hilearner-icon" position="3.5 2 -5" width="2" height="1.2" class="clickable">
        <a-entity id="milestone-4-panel" visible="false" position="0 2.2 0" look-at="#player-camera">
          <a-plane width="5.5" height="2.5" color="#111" opacity="0.95" radius="0.15"></a-plane>
          <a-text value="Started a journey of creative learning." align="center" wrap-count="36" color="#ffffff" width="4.5" scale="1.3" anchor="center" baseline="center" font="https://cdn.aframe.io/fonts/mozillavr.fnt"></a-text>
        </a-entity>
      </a-image>
    </a-entity>

    <!-- Modules 5–12 -->
    <!-- 5: Leadership -->
    <a-entity id="module-leadership" position="0 0 -70" visible="false">
      <a-image id="module-leadership-icon" src="#leader-icon" position="3.5 2 -5" width="2" height="1.2" class="clickable">
        <a-entity id="module-leadership-panel" visible="false" position="0 2.2 0" look-at="#player-camera">
          <a-plane width="5.5" height="2.5" color="#111" opacity="0.95" radius="0.15"></a-plane>
          <a-text value="Learning to lead with empathy and clarity." align="center" wrap-count="36" color="#ffffff" width="4.5" scale="1.3"></a-text>
        </a-entity>
      </a-image>
    </a-entity>

    <!-- 6: HTML/CSS/JS Module -->
    <a-entity id="module-frontend" position="0 0 -85" visible="false">
      <a-image id="module-frontend-icon" src="#frontend-icon" position="3.5 2 -5" width="2" height="1.2" class="clickable">
        <a-entity id="module-frontend-panel" visible="false" position="0 2.2 0" look-at="#player-camera">
          <a-plane width="5.5" height="2.5" color="#111" opacity="0.95" radius="0.15"></a-plane>
          <a-text value="Built the building blocks of the web." align="center" wrap-count="36" color="#ffffff" width="4.5" scale="1.3"></a-text>
        </a-entity>
      </a-image>
    </a-entity>

    <!-- 7: Agile Module -->
    <a-entity id="module-agile" position="0 0 -100" visible="false">
      <a-image id="module-agile-icon" src="#agile-icon" position="3.5 2 -5" width="2" height="1.2" class="clickable">
        <a-entity id="module-agile-panel" visible="false" position="0 2.2 0" look-at="#player-camera">
          <a-plane width="5.5" height="2.5" color="#111" opacity="0.95" radius="0.15"></a-plane>
          <a-text value="Worked in sprints, adapted fast." align="center" wrap-count="36" color="#ffffff" width="4.5" scale="1.3"></a-text>
        </a-entity>
      </a-image>
    </a-entity>

    <!-- 8: React Module -->
    <a-entity id="module-react" position="0 0 -115" visible="false">
      <a-image id="module-react-icon" src="#react-icon" position="3.5 2 -5" width="2" height="1.2" class="clickable">
        <a-entity id="module-react-panel" visible="false" position="0 2.2 0" look-at="#player-camera">
          <a-plane width="5.5" height="2.5" color="#111" opacity="0.95" radius="0.15"></a-plane>
          <a-text value="Created dynamic, component‑based apps." align="center" wrap-count="36" color="#ffffff" width="4.5" scale="1.3"></a-text>
        </a-entity>
      </a-image>
    </a-entity>

    <!-- 9: Figma & UX Module -->
    <a-entity id="module-figma" position="0 0 -130" visible="false">
      <a-image id="module-figma-icon" src="#figma-icon" position="3.5 2 -5" width="2" height="1.2" class="clickable">
        <a-entity id="module-figma-panel" visible="false" position="0 2.2 0" look-at="#player-camera">
          <a-plane width="5.5" height="2.5" color="#111" opacity="0.95" radius="0.15"></a-plane>
          <a-text value="Designed with users in mind." align="center" wrap-count="36" color="#ffffff" width="4.5" scale="1.3"></a-text>
        </a-entity>
      </a-image>
    </a-entity>

    <!-- 10: Backend/SEO/Accessibility -->
    <a-entity id="module-backend" position="0 0 -145" visible="false">
      <a-image id="module-backend-icon" src="#backend-icon" position="3.5 2 -5" width="2" height="1.2" class="clickable">
        <a-entity id="module-backend-panel" visible="false" position="0 2.2 0" look-at="#player-camera">
          <a-plane width="5.5" height="2.5" color="#111" opacity="0.95" radius="0.15"></a-plane>
          <a-text value="Made apps visible, secure, and inclusive." align="center" wrap-count="36" color="#ffffff" width="4.5" scale="1.3"></a-text>
        </a-entity>
      </a-image>
    </a-entity>

    <!-- 11: Client Project Module -->
    <a-entity id="module-client" position="0 0 -160" visible="false">
      <a-image id="module-client-icon" src="#client-icon" position="3.5 2 -5" width="2" height="1.2" class="clickable">
        <a-entity id="module-client-panel" visible="false" position="0 2.2 0" look-at="#player-camera">
          <a-plane width="5.5" height="2.5" color="#111" opacity="0.95" radius="0.15"></a-plane>
          <a-text value="Delivered real work for real people." align="center" wrap-count="36" color="#ffffff" width="4.5" scale="1.3"></a-text>
        </a-entity>
      </a-image>
    </a-entity>

    <!-- 12: WebXR Module -->
    <a-entity id="module-webxr" position="0 0 -175" visible="false">
      <a-image id="module-webxr-icon" src="#webxr-icon" position="3.5 2 -5" width="2" height="1.2" class="clickable">
        <a-entity id="module-webxr-panel" visible="false" position="0 2.2 0" look-at="#player-camera">
          <a-plane width="5.5" height="2.5" color="#111" opacity="0.95" radius="0.15"></a-plane>
          <a-text value="Brought stories to life in 3D." align="center" wrap-count="36" color="#ffffff" width="4.5" scale="1.3"></a-text>
        </a-entity>
      </a-image>
    </a-entity>

    <!-- Final: Portal -->
    <a-entity id="final-portal" position="0 0 -190" visible="false">
      <a-torus color="#f39c12" radius="3" radius-tubular="0.3" opacity="0.8"></a-torus>
      <a-text value="Towards the New Future" position="0 0 0" align="center" color="#2c3e50" scale="2 2 2"></a-text>
    </a-entity>

  </a-scene>

    <div class="journey-controls">
    <button id="start-btn">Start Journey</button>
    <button id="pause-btn">Pause Journey</button>
  </div>

  <div class="audio-controls">
    <button id="toggle-audio">🔊 Mute</button>
  </div>

  <script src="script.js"></script>

  <script>
    const audio = document.querySelector('#bg-music');
    const toggleBtn = document.querySelector('#toggle-audio');

    toggleBtn.addEventListener('click', () => {
      if (audio.muted) {
        audio.muted = false;
        toggleBtn.textContent = '🔊 Mute';
      } else {
        audio.muted = true;
        toggleBtn.textContent = '🔇 Unmute';
      }
    });
  </script>
</body>
</html>

